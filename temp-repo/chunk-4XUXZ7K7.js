import{a as H,c as j,d as G,e as q,f as R,g as J,h as K,l as Q,m as U,n as X,o as Y,p as Z,r as $}from"./chunk-4QMXXBRT.js";import{a as ee}from"./chunk-ZC3RMNY2.js";import{i as z}from"./chunk-EARDSPXL.js";import{Fa as V,Fb as B,Gb as W,Hb as F,Ib as N,Ja as b,Jb as D,Kb as P,Lb as O,Qa as u,Sa as A,Ta as e,Ua as t,Va as T,Wa as S,X as p,Xa as m,Y as g,Ya as c,Z as h,_ as w,eb as o,fb as M,gb as y,ib as x,jb as _,kb as f,mb as v,nb as I,ob as C,va as s,za as L}from"./chunk-ZVA6WF5A.js";import{a as E,b as k}from"./chunk-2VMXMS7J.js";function ne(d,i){if(d&1&&(e(0,"option",44),o(1),t()),d&2){let n=i.$implicit;u("value",n),s(),M(n)}}function ie(d,i){if(d&1){let n=S();e(0,"div",56)(1,"div",57)(2,"button",58),m("click",function(){p(n);let a=c().$implicit,l=c();return g(l.editTransaction(a.id))}),o(3," Edit Transaction "),t(),e(4,"button",59),m("click",function(){p(n);let a=c().$implicit,l=c();return g(l.deleteTransaction(a.id))}),o(5," Delete Transaction "),t()()()}}function re(d,i){if(d&1){let n=S();e(0,"tr",45)(1,"td",46),o(2),v(3,"date"),t(),e(4,"td",47)(5,"div",48),o(6),t()(),e(7,"td",49),o(8),t(),e(9,"td",47)(10,"span",50),o(11),t()(),e(12,"td",47)(13,"span",50),o(14),v(15,"titlecase"),t()(),e(16,"td",51)(17,"button",52),m("click",function(a){let l=p(n).$implicit;return c().toggleActionsMenu(l.id),g(a.stopPropagation())}),h(),e(18,"svg",53),T(19,"path",54),t()(),b(20,ie,6,0,"div",55),t()()}if(d&2){let n=i.$implicit,r=c();s(2),y(" ",C(3,9,n.date,"MMM d, yyyy")," "),s(4),M(n.title),s(),u("ngClass",r.getAmountColor(n)),s(),y(" ",r.getAmountDisplay(n)," "),s(2),u("ngClass",r.getCategoryBadgeColor("Category "+n.categoryId)),s(),y(" ","Category "+n.categoryId," "),s(2),u("ngClass",r.getTypeBadgeColor(n.type)),s(),y(" ",I(15,12,n.type)," "),s(6),u("ngIf",r.showActionsMenu===n.id)}}function oe(d,i){d&1&&(e(0,"tr")(1,"td",60)(2,"div",61),h(),e(3,"svg",62),T(4,"path",63),t(),w(),e(5,"p",64),o(6,"No transactions found"),t(),e(7,"p",65),o(8,"Try adjusting your search or filters, or add a new transaction."),t()()()())}function ae(d,i){if(d&1&&(e(0,"option",44),o(1),t()),d&2){let n=i.$implicit;u("value",n),s(),M(n)}}function le(d,i){if(d&1){let n=S();e(0,"div",66)(1,"div",67)(2,"div",68)(3,"div",69)(4,"h3",70),o(5,"Add New Transaction"),t(),e(6,"button",52),m("click",function(){p(n);let a=c();return g(a.closeAddModal())}),h(),e(7,"svg",71),T(8,"path",72),t()()(),w(),e(9,"form",73),m("ngSubmit",function(){p(n);let a=c();return g(a.addTransaction())}),e(10,"div")(11,"label",74),o(12,"Title"),t(),e(13,"input",75),f("ngModelChange",function(a){p(n);let l=c();return _(l.newTransaction.title,a)||(l.newTransaction.title=a),g(a)}),t()(),e(14,"div")(15,"label",74),o(16,"Amount"),t(),e(17,"input",76),f("ngModelChange",function(a){p(n);let l=c();return _(l.newTransaction.amount,a)||(l.newTransaction.amount=a),g(a)}),t()(),e(18,"div")(19,"label",74),o(20,"Category"),t(),e(21,"select",77),f("ngModelChange",function(a){p(n);let l=c();return _(l.newTransaction.category,a)||(l.newTransaction.category=a),g(a)}),e(22,"option",31),o(23,"Select a category"),t(),b(24,ae,2,2,"option",32),t()(),e(25,"div")(26,"label",74),o(27,"Type"),t(),e(28,"select",78),f("ngModelChange",function(a){p(n);let l=c();return _(l.newTransaction.type,a)||(l.newTransaction.type=a),g(a)}),e(29,"option",34),o(30,"Expense"),t(),e(31,"option",33),o(32,"Income"),t()()(),e(33,"div")(34,"label",74),o(35,"Date"),t(),e(36,"input",79),f("ngModelChange",function(a){p(n);let l=c();return _(l.newTransaction.date,a)||(l.newTransaction.date=a),g(a)}),t()(),e(37,"div",80)(38,"button",81),m("click",function(){p(n);let a=c();return g(a.closeAddModal())}),o(39," Cancel "),t(),e(40,"button",82),o(41," Add Transaction "),t()()()()()()}if(d&2){let n=c();s(13),x("ngModel",n.newTransaction.title),s(4),x("ngModel",n.newTransaction.amount),s(4),x("ngModel",n.newTransaction.category),s(3),u("ngForOf",n.categories),s(4),x("ngModel",n.newTransaction.type),s(8),x("ngModel",n.newTransaction.date)}}var te=class d{constructor(i){this.transactionService=i}transactions=[];filteredTransactions=[];categories=["Food","Transport","Entertainment","Bills","Shopping","Health"];searchTerm="";selectedCategory="";selectedType="";showActionsMenu=null;showAddModal=!1;newTransaction={title:"",amount:0,category:"",type:"expense",date:new Date().toISOString().split("T")[0]};ngOnInit(){this.loadTransactions()}loadTransactions(){this.transactionService.getTransactions().subscribe(i=>{this.transactions=i.map(n=>k(E({},n),{title:n.description,category:"Category "+n.categoryId})),this.filteredTransactions=[...this.transactions]})}getTotalIncome(){return this.transactions.filter(i=>i.type==="income").reduce((i,n)=>i+n.amount,0)}getTotalExpenses(){return this.transactions.filter(i=>i.type==="expense").reduce((i,n)=>i+n.amount,0)}getNetTotal(){return this.getTotalIncome()-this.getTotalExpenses()}onSearch(i){this.applyFilters()}onCategoryFilter(i){this.applyFilters()}onTypeFilter(i){this.applyFilters()}applyFilters(){this.filteredTransactions=this.transactions.filter(i=>{let n=!this.searchTerm||i.title?.toLowerCase().includes(this.searchTerm.toLowerCase()),r=!this.selectedCategory||i.category===this.selectedCategory,a=!this.selectedType||i.type===this.selectedType;return n&&r&&a})}trackByTransactionId(i,n){return n.id}getAmountColor(i){return i.type==="income"?"text-green-600":"text-red-600"}getAmountDisplay(i){return`${i.type==="income"?"+":"-"}$${i.amount.toFixed(2)}`}getCategoryBadgeColor(i){return"bg-gray-100 text-gray-800"}getTypeBadgeColor(i){return i==="income"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}toggleActionsMenu(i){this.showActionsMenu=this.showActionsMenu===i?null:i}closeActionsMenu(){this.showActionsMenu=null}editTransaction(i){console.log("Edit transaction:",i),this.closeActionsMenu()}deleteTransaction(i){confirm("Are you sure you want to delete this transaction?")&&this.transactionService.deleteTransaction(i).subscribe(()=>{this.loadTransactions()}),this.closeActionsMenu()}exportTransactions(){console.log("Export transactions")}openAddModal(){this.showAddModal=!0}closeAddModal(){this.showAddModal=!1,this.resetNewTransaction()}addTransaction(){let i=k(E({},this.newTransaction),{description:this.newTransaction.title,categoryId:"1",date:new Date(this.newTransaction.date),userId:"1"});this.transactionService.createTransaction(i).subscribe(()=>{this.loadTransactions(),this.closeAddModal()})}resetNewTransaction(){this.newTransaction={title:"",amount:0,category:"",type:"expense",date:new Date().toISOString().split("T")[0]}}static \u0275fac=function(n){return new(n||d)(L(ee))};static \u0275cmp=V({type:d,selectors:[["app-transaction-list"]],decls:77,vars:25,consts:[[1,"p-6","space-y-6",3,"click"],[1,"flex","justify-between","items-start"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-gray-500","mt-1"],[1,"flex","space-x-3"],[1,"flex","items-center","px-4","py-2","text-gray-700","bg-white","border","border-gray-300","rounded-lg","hover:bg-gray-50","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"flex","items-center","px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","mb-6"],[1,"bg-green-50","p-4","rounded-lg","border","border-green-200"],[1,"text-sm","font-medium","text-green-800"],[1,"text-2xl","font-bold","text-green-600"],[1,"bg-red-50","p-4","rounded-lg","border","border-red-200"],[1,"text-sm","font-medium","text-red-800"],[1,"text-2xl","font-bold","text-red-600"],[1,"bg-blue-50","p-4","rounded-lg","border","border-blue-200"],[1,"text-sm","font-medium","text-blue-800"],[1,"text-2xl","font-bold"],[1,"bg-white","rounded-lg","border","border-gray-200"],[1,"px-6","py-4","border-b","border-gray-200"],[1,"text-lg","font-semibold","text-gray-900"],[1,"px-6","py-4","border-b","border-gray-200","bg-gray-50"],[1,"flex","items-center","space-x-4"],[1,"flex-1","relative"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Search transactions...",1,"block","w-full","pl-10","pr-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","sm:text-sm",3,"ngModelChange","input","ngModel"],[1,"px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","text-sm","bg-white",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["value","income"],["value","expense"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-3","text-right","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",4,"ngIf"],[3,"value"],[1,"hover:bg-gray-50"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap"],[1,"text-sm","font-medium","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium",3,"ngClass"],[1,"inline-flex","px-2","py-1","text-xs","font-medium","rounded-full",3,"ngClass"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium","relative"],[1,"text-gray-400","hover:text-gray-500",3,"click"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4"],["d","M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"],["class","absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",4,"ngIf"],[1,"absolute","right-0","mt-2","w-48","bg-white","rounded-md","shadow-lg","z-10","border","border-gray-200"],[1,"py-1"],[1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100","w-full","text-left",3,"click"],[1,"block","px-4","py-2","text-sm","text-red-600","hover:bg-gray-100","w-full","text-left",3,"click"],["colspan","6",1,"px-6","py-8","text-center","text-gray-500"],[1,"flex","flex-col","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","text-gray-300","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"text-lg","font-medium"],[1,"text-sm","mt-1"],[1,"fixed","inset-0","bg-gray-600","bg-opacity-50","overflow-y-auto","h-full","w-full","z-50"],[1,"relative","top-20","mx-auto","p-5","border","w-96","shadow-lg","rounded-md","bg-white"],[1,"mt-3"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-lg","font-medium","text-gray-900"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5"],["fill-rule","evenodd","d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule","evenodd"],[1,"space-y-4",3,"ngSubmit"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","name","title","required","","placeholder","Enter transaction title",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["type","number","name","amount","step","0.01","min","0","required","","placeholder","0.00",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["name","category","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["name","type","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["type","date","name","date","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],[1,"flex","space-x-3","pt-4"],["type","button",1,"flex-1","px-4","py-2","bg-gray-300","text-gray-700","rounded-md","hover:bg-gray-400","transition-colors",3,"click"],["type","submit",1,"flex-1","px-4","py-2","bg-blue-600","text-white","rounded-md","hover:bg-blue-700","transition-colors"]],template:function(n,r){n&1&&(e(0,"div",0),m("click",function(){return r.closeActionsMenu()}),e(1,"div",1)(2,"div")(3,"h1",2),o(4,"Transactions"),t(),e(5,"p",3),o(6,"Track and manage all your financial transactions"),t()(),e(7,"div",4)(8,"button",5),m("click",function(){return r.exportTransactions()}),h(),e(9,"svg",6),T(10,"path",7),t(),o(11," Export "),t(),w(),e(12,"button",8),m("click",function(){return r.openAddModal()}),h(),e(13,"svg",6),T(14,"path",9),t(),o(15," Add Transaction "),t()()(),w(),e(16,"div",10)(17,"div",11)(18,"h3",12),o(19,"Total Income"),t(),e(20,"p",13),o(21),v(22,"number"),t()(),e(23,"div",14)(24,"h3",15),o(25,"Total Expenses"),t(),e(26,"p",16),o(27),v(28,"number"),t()(),e(29,"div",17)(30,"h3",18),o(31,"Net Total"),t(),e(32,"p",19),o(33),v(34,"number"),t()()(),e(35,"div",20)(36,"div",21)(37,"h2",22),o(38),t()(),e(39,"div",23)(40,"div",24)(41,"div",25)(42,"div",26),h(),e(43,"svg",27),T(44,"path",28),t()(),w(),e(45,"input",29),f("ngModelChange",function(l){return _(r.searchTerm,l)||(r.searchTerm=l),l}),m("input",function(l){return r.onSearch(l)}),t()(),e(46,"select",30),f("ngModelChange",function(l){return _(r.selectedCategory,l)||(r.selectedCategory=l),l}),m("change",function(l){return r.onCategoryFilter(l)}),e(47,"option",31),o(48,"All Categories"),t(),b(49,ne,2,2,"option",32),t(),e(50,"select",30),f("ngModelChange",function(l){return _(r.selectedType,l)||(r.selectedType=l),l}),m("change",function(l){return r.onTypeFilter(l)}),e(51,"option",31),o(52,"All Types"),t(),e(53,"option",33),o(54,"Income"),t(),e(55,"option",34),o(56,"Expense"),t()()()(),e(57,"div",35)(58,"table",36)(59,"thead",37)(60,"tr")(61,"th",38),o(62,"Date"),t(),e(63,"th",38),o(64,"Title"),t(),e(65,"th",39),o(66,"Amount"),t(),e(67,"th",38),o(68,"Category"),t(),e(69,"th",38),o(70,"Type"),t(),e(71,"th",39),o(72,"Actions"),t()()(),e(73,"tbody",40),b(74,re,21,14,"tr",41)(75,oe,9,0,"tr",42),t()()()()(),b(76,le,42,6,"div",43)),n&2&&(s(21),y("$",C(22,16,r.getTotalIncome(),"1.2-2"),""),s(6),y("$",C(28,19,r.getTotalExpenses(),"1.2-2"),""),s(5),A("text-green-600",r.getNetTotal()>=0)("text-red-600",r.getNetTotal()<0),s(),y(" $",C(34,22,r.getNetTotal(),"1.2-2")," "),s(5),y("All Transactions (",r.filteredTransactions.length,")"),s(7),x("ngModel",r.searchTerm),s(),x("ngModel",r.selectedCategory),s(3),u("ngForOf",r.categories),s(),x("ngModel",r.selectedType),s(24),u("ngForOf",r.filteredTransactions)("ngForTrackBy",r.trackByTransactionId),s(),u("ngIf",r.filteredTransactions.length===0),s(),u("ngIf",r.showAddModal))},dependencies:[O,B,W,F,P,N,D,z,$,J,U,X,H,K,Q,j,G,Z,Y,R,q],styles:[".material-icons[_ngcontent-%COMP%]{font-size:20px}"]})};export{te as TransactionListComponent};
