import{a as L}from"./chunk-ODOITEU3.js";import{a as S,b as s,c as N,d as C,g as F,j as E,k as M,p as _,q as P,s as k}from"./chunk-4QMXXBRT.js";import{e as y,f as h,i as w}from"./chunk-EARDSPXL.js";import{Fa as c,Hb as b,Ja as p,Lb as v,Qa as l,Ta as r,Ua as e,Va as d,Xa as f,Ya as g,eb as i,gb as x,va as m,za as u}from"./chunk-ZVA6WF5A.js";import"./chunk-2VMXMS7J.js";function I(a,n){if(a&1&&(r(0,"div",22),i(1),e()),a&2){let t=g();m(),x(" ",t.errorMessage," ")}}function G(a,n){a&1&&(r(0,"div",22),i(1," Passwords do not match "),e())}function R(a,n){a&1&&(r(0,"span",23),i(1,"Loading..."),e())}var q=class a{constructor(n,t,o){this.fb=n;this.authService=t;this.router=o;this.signupForm=this.fb.group({firstName:["",[s.required]],lastName:["",[s.required]],email:["",[s.required,s.email]],password:["",[s.required,s.minLength(6)]],confirmPassword:["",[s.required]]},{validators:this.passwordMatchValidator})}signupForm;isLoading=!1;errorMessage="";passwordMatchValidator(n){let t=n.get("password"),o=n.get("confirmPassword");return t&&o&&t.value===o.value?null:{passwordMismatch:!0}}onSubmit(){if(this.signupForm.valid){this.isLoading=!0,this.errorMessage="";let n=this.signupForm.value;this.authService.signup(n).subscribe({next:t=>{this.isLoading=!1,t.success?this.router.navigate(["/dashboard"]):this.errorMessage=t.message||"Signup failed"},error:t=>{this.isLoading=!1,this.errorMessage="An error occurred during signup"}})}}static \u0275fac=function(t){return new(t||a)(u(P),u(L),u(y))};static \u0275cmp=c({type:a,selectors:[["app-signup"]],decls:38,vars:5,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gray-50","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],[1,"mt-6","text-center","text-3xl","font-extrabold","text-gray-900"],[1,"mt-2","text-center","text-sm","text-gray-600"],["routerLink","/login",1,"font-medium","text-blue-600","hover:text-blue-500"],[1,"mt-8","space-y-6",3,"ngSubmit","formGroup"],[1,"space-y-4"],[1,"flex","space-x-4"],[1,"flex-1"],["for","firstName",1,"block","text-sm","font-medium","text-gray-700"],["id","firstName","name","firstName","type","text","formControlName","firstName","required","","placeholder","First Name",1,"mt-1","appearance-none","relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-md","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm"],["for","lastName",1,"block","text-sm","font-medium","text-gray-700"],["id","lastName","name","lastName","type","text","formControlName","lastName","required","","placeholder","Last Name",1,"mt-1","appearance-none","relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-md","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["id","email","name","email","type","email","formControlName","email","required","","placeholder","Email address",1,"mt-1","appearance-none","relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-md","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["id","password","name","password","type","password","formControlName","password","required","","placeholder","Password",1,"mt-1","appearance-none","relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-md","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm"],["for","confirmPassword",1,"block","text-sm","font-medium","text-gray-700"],["id","confirmPassword","name","confirmPassword","type","password","formControlName","confirmPassword","required","","placeholder","Confirm Password",1,"mt-1","appearance-none","relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-md","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm"],["class","text-red-600 text-sm text-center",4,"ngIf"],["type","submit",1,"group","relative","w-full","flex","justify-center","py-2","px-4","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],["class","mr-2",4,"ngIf"],[1,"text-red-600","text-sm","text-center"],[1,"mr-2"]],template:function(t,o){t&1&&(r(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),i(4," Create your account "),e(),r(5,"p",3),i(6," Or "),r(7,"a",4),i(8," sign in to your existing account "),e()()(),r(9,"form",5),f("ngSubmit",function(){return o.onSubmit()}),r(10,"div",6)(11,"div",7)(12,"div",8)(13,"label",9),i(14,"First Name"),e(),d(15,"input",10),e(),r(16,"div",8)(17,"label",11),i(18,"Last Name"),e(),d(19,"input",12),e()(),r(20,"div")(21,"label",13),i(22,"Email"),e(),d(23,"input",14),e(),r(24,"div")(25,"label",15),i(26,"Password"),e(),d(27,"input",16),e(),r(28,"div")(29,"label",17),i(30,"Confirm Password"),e(),d(31,"input",18),e()(),p(32,I,2,1,"div",19)(33,G,2,0,"div",19),r(34,"div")(35,"button",20),p(36,R,2,0,"span",21),i(37," Create Account "),e()()()()()),t&2&&(m(9),l("formGroup",o.signupForm),m(23),l("ngIf",o.errorMessage),m(),l("ngIf",o.signupForm.errors==null?null:o.signupForm.errors.passwordMismatch),m(2),l("disabled",!o.signupForm.valid||o.isLoading),m(),l("ngIf",o.isLoading))},dependencies:[v,b,k,F,S,N,C,_,E,M,w,h],encapsulation:2})};export{q as SignupComponent};
