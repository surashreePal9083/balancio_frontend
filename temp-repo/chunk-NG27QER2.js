import{a as oe}from"./chunk-ZC3RMNY2.js";import{$a as E,Ca as V,Fa as l,Ga as H,Gb as ne,Hb as ae,Ja as L,Jb as ie,Kb as y,Lb as d,M as z,Ob as se,Qa as m,R as B,Sa as f,Ta as i,Ua as a,Va as h,W as x,Ya as W,_a as I,ab as A,bb as G,cb as K,eb as r,fa as $,fb as Z,gb as u,h as U,ha as X,hb as ee,ia as p,ka as Y,mb as g,nb as te,oa as q,ob as C,va as o,za as J}from"./chunk-ZVA6WF5A.js";import{a as T,b as F,c as R}from"./chunk-2VMXMS7J.js";var w=class s{amount=0;static \u0275fac=function(e){return new(e||s)};static \u0275cmp=l({type:s,selectors:[["app-income-card"]],inputs:{amount:"amount"},decls:18,vars:4,consts:[[1,"bg-white","rounded-lg","shadow","p-6"],[1,"flex","items-center"],[1,"flex-shrink-0"],[1,"w-12","h-12","bg-green-100","rounded-lg","flex","items-center","justify-center"],[1,"material-icons","text-green-600"],[1,"ml-4"],[1,"text-sm","font-medium","text-gray-500"],[1,"text-2xl","font-bold","text-gray-900"],[1,"mt-4"],[1,"flex","items-center","text-sm","text-green-600"],[1,"material-icons","text-xs","mr-1"]],template:function(e,t){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),r(5,"trending_up"),a()()(),i(6,"div",5)(7,"p",6),r(8,"Total Income"),a(),i(9,"p",7),r(10),g(11,"number"),a()()(),i(12,"div",8)(13,"div",9)(14,"span",10),r(15,"arrow_upward"),a(),i(16,"span"),r(17,"+12% from last month"),a()()()()),e&2&&(o(10),u("$",C(11,1,t.amount,"1.2-2"),""))},dependencies:[d,y],styles:[".material-icons[_ngcontent-%COMP%]{font-size:24px}"]})};var S=class s{amount=0;static \u0275fac=function(e){return new(e||s)};static \u0275cmp=l({type:s,selectors:[["app-expense-card"]],inputs:{amount:"amount"},decls:18,vars:4,consts:[[1,"bg-white","rounded-lg","shadow","p-6"],[1,"flex","items-center"],[1,"flex-shrink-0"],[1,"w-12","h-12","bg-red-100","rounded-lg","flex","items-center","justify-center"],[1,"material-icons","text-red-600"],[1,"ml-4"],[1,"text-sm","font-medium","text-gray-500"],[1,"text-2xl","font-bold","text-gray-900"],[1,"mt-4"],[1,"flex","items-center","text-sm","text-red-600"],[1,"material-icons","text-xs","mr-1"]],template:function(e,t){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),r(5,"trending_down"),a()()(),i(6,"div",5)(7,"p",6),r(8,"Total Expenses"),a(),i(9,"p",7),r(10),g(11,"number"),a()()(),i(12,"div",8)(13,"div",9)(14,"span",10),r(15,"arrow_downward"),a(),i(16,"span"),r(17,"+8% from last month"),a()()()()),e&2&&(o(10),u("$",C(11,1,t.amount,"1.2-2"),""))},dependencies:[d,y],styles:[".material-icons[_ngcontent-%COMP%]{font-size:24px}"]})};var D=class s{amount=0;static \u0275fac=function(e){return new(e||s)};static \u0275cmp=l({type:s,selectors:[["app-balance-card"]],inputs:{amount:"amount"},decls:18,vars:14,consts:[[1,"bg-white","rounded-lg","shadow","p-6"],[1,"flex","items-center"],[1,"flex-shrink-0"],[1,"w-12","h-12","bg-blue-100","rounded-lg","flex","items-center","justify-center"],[1,"material-icons","text-blue-600"],[1,"ml-4"],[1,"text-sm","font-medium","text-gray-500"],[1,"text-2xl","font-bold"],[1,"mt-4"],[1,"flex","items-center","text-sm"],[1,"material-icons","text-xs","mr-1"]],template:function(e,t){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),r(5,"account_balance_wallet"),a()()(),i(6,"div",5)(7,"p",6),r(8,"Current Balance"),a(),i(9,"p",7),r(10),g(11,"number"),a()()(),i(12,"div",8)(13,"div",9)(14,"span",10),r(15),a(),i(16,"span"),r(17),a()()()()),e&2&&(o(9),f("text-green-600",t.amount>=0)("text-red-600",t.amount<0),o(),u(" $",C(11,11,t.amount,"1.2-2")," "),o(3),f("text-green-600",t.amount>=0)("text-red-600",t.amount<0),o(2),u(" ",t.amount>=0?"arrow_upward":"arrow_downward"," "),o(2),u("",t.amount>=0?"Positive":"Negative"," balance"))},dependencies:[d,y],styles:[".material-icons[_ngcontent-%COMP%]{font-size:24px}"]})};var ce=["chart"],M=(()=>{class s{constructor(){this.chart=p(),this.annotations=p(),this.colors=p(),this.dataLabels=p(),this.series=p(),this.stroke=p(),this.labels=p(),this.legend=p(),this.markers=p(),this.noData=p(),this.parsing=p(),this.fill=p(),this.tooltip=p(),this.plotOptions=p(),this.responsive=p(),this.xaxis=p(),this.yaxis=p(),this.forecastDataPoints=p(),this.grid=p(),this.states=p(),this.title=p(),this.subtitle=p(),this.theme=p(),this.autoUpdateSeries=p(!0),this.chartReady=X(),this.chartInstance=Y(null),this.chartElement=V.required("chart"),this.ngZone=B($),this.isBrowser=se(B(q))}ngOnChanges(e){this.isBrowser&&this.ngZone.runOutsideAngular(()=>{U.schedule(()=>this.hydrate(e))})}ngOnDestroy(){this.destroy()}hydrate(e){if(this.autoUpdateSeries()&&Object.keys(e).filter(c=>c!=="series").length===0){this.updateSeries(this.series(),!0);return}this.createElement()}createElement(){return R(this,null,function*(){let{default:e}=yield import("./chunk-3G5GXTHT.js");window.ApexCharts||=e;let t={};["annotations","chart","colors","dataLabels","series","stroke","labels","legend","fill","tooltip","plotOptions","responsive","markers","noData","parsing","xaxis","yaxis","forecastDataPoints","grid","states","title","subtitle","theme"].forEach(j=>{let Q=this[j]();Q&&(t[j]=Q)}),this.destroy();let O=this.ngZone.runOutsideAngular(()=>new e(this.chartElement().nativeElement,t));this.chartInstance.set(O),this.render(),this.chartReady.emit({chartObj:O})})}render(){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.render())}updateOptions(e,t,c,O){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateOptions(e,t,c,O))}updateSeries(e,t){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateSeries(e,t))}appendSeries(e,t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendSeries(e,t))}appendData(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendData(e))}highlightSeries(e){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.highlightSeries(e))}toggleSeries(e){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleSeries(e))}showSeries(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.showSeries(e))}hideSeries(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.hideSeries(e))}resetSeries(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.resetSeries())}zoomX(e,t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.zoomX(e,t))}toggleDataPointSelection(e,t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleDataPointSelection(e,t))}destroy(){this.chartInstance()?.destroy(),this.chartInstance.set(null)}setLocale(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.setLocale(e))}paper(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.paper())}addXaxisAnnotation(e,t,c){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addXaxisAnnotation(e,t,c))}addYaxisAnnotation(e,t,c){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addYaxisAnnotation(e,t,c))}addPointAnnotation(e,t,c){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addPointAnnotation(e,t,c))}removeAnnotation(e,t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.removeAnnotation(e,t))}clearAnnotations(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.clearAnnotations(e))}dataURI(e){return this.chartInstance()?.dataURI(e)}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275cmp=l({type:s,selectors:[["apx-chart"]],viewQuery:function(t,c){t&1&&G(c.chartElement,ce,5),t&2&&K()},inputs:{chart:[1,"chart"],annotations:[1,"annotations"],colors:[1,"colors"],dataLabels:[1,"dataLabels"],series:[1,"series"],stroke:[1,"stroke"],labels:[1,"labels"],legend:[1,"legend"],markers:[1,"markers"],noData:[1,"noData"],parsing:[1,"parsing"],fill:[1,"fill"],tooltip:[1,"tooltip"],plotOptions:[1,"plotOptions"],responsive:[1,"responsive"],xaxis:[1,"xaxis"],yaxis:[1,"yaxis"],forecastDataPoints:[1,"forecastDataPoints"],grid:[1,"grid"],states:[1,"states"],title:[1,"title"],subtitle:[1,"subtitle"],theme:[1,"theme"],autoUpdateSeries:[1,"autoUpdateSeries"]},outputs:{chartReady:"chartReady"},features:[x],decls:2,vars:0,consts:[["chart",""]],template:function(t,c){t&1&&h(0,"div",null,0)},encapsulation:2,changeDetection:0})}}return s})();var _=(()=>{class s{static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275mod=H({type:s})}static{this.\u0275inj=z({})}}return s})();var le=["chart"],P=class s{transactions=[];chart;totalIncome=0;totalExpenses=0;balance=0;colors=["#EF4444","#F59E0B","#10B981","#3B82F6","#8B5CF6","#F97316","#06B6D4","#84CC16","#EC4899","#6366F1"];chartOptions={series:[],chart:{type:"donut",height:320},labels:[],colors:this.colors,legend:{position:"right",offsetY:0,height:230},dataLabels:{enabled:!0,formatter:n=>n.toFixed(1)+"%"},plotOptions:{pie:{donut:{size:"65%",labels:{show:!0,total:{show:!0,showAlways:!1,label:"Financial Summary"}}}}}};ngOnChanges(){this.processExpenseData()}processExpenseData(){if(!this.transactions||this.transactions.length===0){this.totalIncome=0,this.totalExpenses=0,this.balance=0,this.chartOptions=F(T({},this.chartOptions),{series:[],labels:[]});return}this.totalIncome=this.transactions.filter(e=>e.type==="income").reduce((e,t)=>e+t.amount,0),this.totalExpenses=this.transactions.filter(e=>e.type==="expense").reduce((e,t)=>e+t.amount,0),this.balance=this.totalIncome-this.totalExpenses;let n=this.transactions.filter(e=>e.type==="expense").reduce((e,t)=>{let c=this.getCategoryName(t.categoryId);return e.set(c,(e.get(c)||0)+t.amount),e},new Map);this.chartOptions=F(T({},this.chartOptions),{series:Array.from(n.values()),labels:Array.from(n.keys())})}getCategoryName(n){return{1:"Food & Dining",2:"Transportation",3:"Shopping",4:"Entertainment",5:"Bills & Utilities",6:"Healthcare"}[n]||`Category ${n}`}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=l({type:s,selectors:[["app-expense-chart"]],viewQuery:function(e,t){if(e&1&&I(le,5),e&2){let c;E(c=A())&&(t.chart=c.first)}},inputs:{transactions:"transactions"},features:[x],decls:3,vars:7,consts:[["chart",""],[1,"w-full","h-80"],[3,"series","chart","labels","colors","legend","dataLabels","plotOptions"]],template:function(e,t){e&1&&(i(0,"div",1),h(1,"apx-chart",2,0),a()),e&2&&(o(),m("series",t.chartOptions.series)("chart",t.chartOptions.chart)("labels",t.chartOptions.labels)("colors",t.chartOptions.colors)("legend",t.chartOptions.legend)("dataLabels",t.chartOptions.dataLabels)("plotOptions",t.chartOptions.plotOptions))},dependencies:[d,_,M],encapsulation:2})};var me=["chart"],N=class s{transactions=[];chart;chartOptions={series:[{name:"Income",data:[3500,4200,3800,4500,3900,4100]},{name:"Expenses",data:[2100,2800,2300,2900,2500,2700]}],chart:{type:"bar",height:320},plotOptions:{bar:{horizontal:!1,columnWidth:"55%"}},dataLabels:{enabled:!1},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun"]},yaxis:{labels:{formatter:function(n){return"$"+n.toLocaleString()}}},colors:["#10B981","#EF4444"]};ngOnChanges(){this.processChartData()}processChartData(){let n=["Jan","Feb","Mar","Apr","May","Jun"],e=n.map(()=>Math.floor(Math.random()*2e3)+3e3),t=n.map(()=>Math.floor(Math.random()*1500)+2e3);this.chartOptions.series=[{name:"Income",data:e},{name:"Expenses",data:t}]}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=l({type:s,selectors:[["app-income-expense-bar-chart"]],viewQuery:function(e,t){if(e&1&&I(me,5),e&2){let c;E(c=A())&&(t.chart=c.first)}},inputs:{transactions:"transactions"},features:[x],decls:2,vars:7,consts:[[1,"w-full","h-80"],[3,"series","chart","xaxis","yaxis","dataLabels","plotOptions","colors"]],template:function(e,t){e&1&&(i(0,"div",0),h(1,"apx-chart",1),a()),e&2&&(o(),m("series",t.chartOptions.series)("chart",t.chartOptions.chart)("xaxis",t.chartOptions.xaxis)("yaxis",t.chartOptions.yaxis)("dataLabels",t.chartOptions.dataLabels)("plotOptions",t.chartOptions.plotOptions)("colors",t.chartOptions.colors))},dependencies:[d,_,M],encapsulation:2})};function de(s,n){s&1&&(i(0,"div",15),r(1," No transactions found "),a())}function he(s,n){if(s&1&&(i(0,"div",18)(1,"div",19)(2,"div",20)(3,"span",21),r(4),a()(),i(5,"div",22)(6,"p",23),r(7),a(),i(8,"p",24),r(9),g(10,"date"),a()()(),i(11,"div",25)(12,"p",26),r(13),a()()()),s&2){let e=n.$implicit;o(2),f("bg-green-100",e.type==="income")("bg-red-100",e.type==="expense"),o(),f("text-green-600",e.type==="income")("text-red-600",e.type==="expense"),o(),u(" ",e.type==="income"?"arrow_upward":"arrow_downward"," "),o(3),Z(e.description),o(2),Z(te(10,17,e.date)),o(3),f("text-green-600",e.type==="income")("text-red-600",e.type==="expense"),o(),ee(" ",e.type==="income"?"+":"-","$",e.amount," ")}}function ue(s,n){if(s&1&&(i(0,"div",16),L(1,he,14,19,"div",17),a()),s&2){let e=W();o(),m("ngForOf",e.transactions.slice(0,5))}}var pe=class s{constructor(n){this.transactionService=n}transactions=[];totalIncome=0;totalExpenses=0;balance=0;ngOnInit(){this.loadTransactions()}loadTransactions(){this.transactionService.getTransactions().subscribe(n=>{this.transactions=n,this.calculateTotals()})}calculateTotals(){this.totalIncome=this.transactions.filter(n=>n.type==="income").reduce((n,e)=>n+e.amount,0),this.totalExpenses=this.transactions.filter(n=>n.type==="expense").reduce((n,e)=>n+e.amount,0),this.balance=this.totalIncome-this.totalExpenses}static \u0275fac=function(e){return new(e||s)(J(oe))};static \u0275cmp=l({type:s,selectors:[["app-dashboard"]],decls:26,vars:7,consts:[[1,"space-y-6"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-gray-600"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6"],[3,"amount"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"bg-white","rounded-lg","shadow","p-6"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[3,"transactions"],[1,"bg-white","rounded-lg","shadow"],[1,"px-6","py-4","border-b","border-gray-200"],[1,"text-lg","font-semibold","text-gray-900"],[1,"p-6"],["class","text-center text-gray-500 py-8",4,"ngIf"],["class","space-y-4",4,"ngIf"],[1,"text-center","text-gray-500","py-8"],[1,"space-y-4"],["class","flex items-center justify-between p-4 bg-gray-50 rounded-lg",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","p-4","bg-gray-50","rounded-lg"],[1,"flex","items-center"],[1,"w-10","h-10","rounded-full","flex","items-center","justify-center"],[1,"material-icons","text-sm"],[1,"ml-4"],[1,"font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"text-right"],[1,"font-semibold"]],template:function(e,t){e&1&&(i(0,"div",0)(1,"div")(2,"h1",1),r(3,"Dashboard"),a(),i(4,"p",2),r(5,"Overview of your financial status"),a()(),i(6,"div",3),h(7,"app-income-card",4)(8,"app-expense-card",4)(9,"app-balance-card",4),a(),i(10,"div",5)(11,"div",6)(12,"h3",7),r(13,"Expense Breakdown"),a(),h(14,"app-expense-chart",8),a(),i(15,"div",6)(16,"h3",7),r(17,"Income vs Expenses"),a(),h(18,"app-income-expense-bar-chart",8),a()(),i(19,"div",9)(20,"div",10)(21,"h3",11),r(22,"Recent Transactions"),a()(),i(23,"div",12),L(24,de,2,0,"div",13)(25,ue,2,1,"div",14),a()()()),e&2&&(o(7),m("amount",t.totalIncome),o(),m("amount",t.totalExpenses),o(),m("amount",t.balance),o(5),m("transactions",t.transactions),o(4),m("transactions",t.transactions),o(6),m("ngIf",t.transactions.length===0),o(),m("ngIf",t.transactions.length>0))},dependencies:[d,ne,ae,ie,w,S,D,P,N],styles:[".material-icons[_ngcontent-%COMP%]{font-size:20px}"]})};export{pe as DashboardComponent};
